import koaRouter from 'koa-router'
import initControllers from '../controller'

const router = koaRouter()

const controller = initControllers()

router.prefix('/api/{{route}}')

router.post('/insert', async ctx => {
  ctx.body = await controller.{{name}}.insert()
})

router.delete('/delete', async ctx => {
  ctx.body = await controller.{{name}}.delete()
})

router.put('/update', async ctx => {
  ctx.body = await controller.{{name}}.update()
})

router.get('/query', async ctx => {
  ctx.body = await controller.{{name}}.query()
})

router.get('/index', async ctx => {
  ctx.body = await controller.{{name}}.index()
})

export default router
